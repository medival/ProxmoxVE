(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>i});var a=r(95155),s=r(32467),o=r(83101),n=r(12115),l=r(64269);let i=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",expandIcon:"group relative text-primary-foreground bg-primary hover:bg-primary/90",ringHover:"bg-primary text-primary-foreground transition-all duration-300 hover:bg-primary/90 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2",shine:"text-primary-foreground animate-shine bg-gradient-to-r from-primary via-primary/75 to-primary bg-[length:400%_100%] ",gooeyRight:"text-primary-foreground relative bg-primary z-0 overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:-z-10 before:translate-x-[150%] before:translate-y-[150%] before:scale-[2.5] before:rounded-[100%] before:bg-gradient-to-r from-zinc-400 before:transition-transform before:duration-1000  hover:before:translate-x-[0%] hover:before:translate-y-[0%] ",gooeyLeft:"text-primary-foreground relative bg-primary z-0 overflow-hidden transition-all duration-500 after:absolute after:inset-0 after:-z-10 after:translate-x-[-150%] after:translate-y-[150%] after:scale-[2.5] after:rounded-[100%] after:bg-gradient-to-l from-zinc-400 after:transition-transform after:duration-1000  hover:after:translate-x-[0%] hover:after:translate-y-[0%] ",linkHover1:"relative after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-left after:scale-x-100 hover:after:origin-bottom-right hover:after:scale-x-0 after:transition-transform after:ease-in-out after:duration-300",linkHover2:"relative after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-9 w-9    ",null:"py-1 px-3 rouded-xs"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:o,size:n,asChild:d=!1,Icon:c,iconPlacement:u,...f}=e,p=d?s.DX:"button";return(0,a.jsxs)(p,{className:(0,l.cn)(i({variant:o,size:n,className:r})),ref:t,...f,children:[c&&"left"===u&&(0,a.jsx)("div",{className:"group-hover:translate-x-100 w-0 translate-x-[0%] pr-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:pr-2 group-hover:opacity-100",children:(0,a.jsx)(c,{})}),(0,a.jsx)(s.xV,{children:f.children}),c&&"right"===u&&(0,a.jsx)("div",{className:"w-0 translate-x-[100%] pl-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:translate-x-0 group-hover:pl-2 group-hover:opacity-100",children:(0,a.jsx)(c,{})})]})});d.displayName="Button"},35380:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(95155),s=r(12115);r(99157);var o=r(31607),n=r(63597),l=r(87454),i=r(80534),d=r(23258),c=r(64269);let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,c.cn)("w-full caption-bottom text-sm",r),...s})})});u.displayName="Table";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,c.cn)("[&_tr]:border-b",r),...s})});f.displayName="TableHeader";let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,c.cn)("[&_tr:last-child]:border-0",r),...s})});p.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});m.displayName="TableRow";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,c.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});x.displayName="TableHead";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,c.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});h.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption";var b=r(46767),g=r(51834),y=r(3998);o.t1.register(o.Bs,o.m_,o.s$,n.A);let j=["#ff6384","#36a2eb","#ffce56","#4bc0c0","#9966ff","#ff9f40","#4dc9f6","#f67019","#537bc4","#acc236","#166a8f","#00a950","#58595b","#8549ba"];function v(e){let{data:t}=e,[r,o]=(0,s.useState)(!1),[n,c]=(0,s.useState)(!1),[v,N]=(0,s.useState)(0),[w,k]=(0,s.useState)(20);if(!t)return null;let C=Object.entries(t.nsapp_count).sort((e,t)=>{let[,r]=e,[,a]=t;return a-r}),_=C.slice(v,v+20),z={labels:_.map(e=>{let[t]=e;return t}),datasets:[{data:_.map(e=>{let[,t]=e;return t}),backgroundColor:j}]};return(0,a.jsxs)("div",{className:"mt-6 flex justify-center gap-4",children:[(0,a.jsxs)(b.Bc,{children:[(0,a.jsxs)(b.m_,{children:[(0,a.jsx)(b.k$,{asChild:!0,children:(0,a.jsx)(y.$,{variant:"outline",size:"icon",onClick:()=>o(!0),children:(0,a.jsx)(l.A,{className:"h-5 w-5"})})}),(0,a.jsx)(b.ZI,{children:"Open Chart View"})]}),(0,a.jsxs)(b.m_,{children:[(0,a.jsx)(b.k$,{asChild:!0,children:(0,a.jsx)(y.$,{variant:"outline",size:"icon",onClick:()=>c(!0),children:(0,a.jsx)(i.A,{className:"h-5 w-5"})})}),(0,a.jsx)(b.ZI,{children:"Open Table View"})]})]}),(0,a.jsx)(g.lG,{open:r,onOpenChange:o,children:(0,a.jsxs)(g.Cf,{className:"max-w-3xl",children:[(0,a.jsx)(g.c7,{children:(0,a.jsx)(g.L3,{children:"Applications Distribution"})}),(0,a.jsx)("div",{className:"h-[60vh] w-full",children:(0,a.jsx)(d.Fq,{data:z,options:{plugins:{legend:{display:!1},datalabels:{color:"white",font:{weight:"bold"},formatter:(e,t)=>{var r;let a=null==(r=t.chart.data.labels)?void 0:r[t.dataIndex];return"".concat(a,"\n(").concat(e,")")}}},responsive:!0,maintainAspectRatio:!1}})}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsxs)(y.$,{variant:"outline",onClick:()=>N(Math.max(0,v-20)),disabled:0===v,children:["Previous"," ",20]}),(0,a.jsxs)(y.$,{variant:"outline",onClick:()=>N(v+20),disabled:v+20>=C.length,children:["Next"," ",20]})]})]})}),(0,a.jsx)(g.lG,{open:n,onOpenChange:c,children:(0,a.jsxs)(g.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(g.c7,{children:(0,a.jsx)(g.L3,{children:"Applications Count"})}),(0,a.jsx)("div",{className:"max-h-[60vh] overflow-y-auto",children:(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{children:(0,a.jsxs)(m,{children:[(0,a.jsx)(x,{children:"Application"}),(0,a.jsx)(x,{className:"text-right",children:"Count"})]})}),(0,a.jsx)(p,{children:C.slice(0,w).map(e=>{let[t,r]=e;return(0,a.jsxs)(m,{children:[(0,a.jsx)(h,{children:t}),(0,a.jsx)(h,{className:"text-right",children:r})]},t)})})]})}),w<C.length&&(0,a.jsx)(y.$,{variant:"outline",className:"w-full",onClick:()=>k(e=>e+20),children:"Load More"})]})})]})}let N=()=>{var e,t,r,o;let[n,l]=(0,s.useState)([]),[i,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),[f,p]=(0,s.useState)(null),[m,x]=(0,s.useState)(1),[h,b]=(0,s.useState)(25),[g,y]=(0,s.useState)(null),j=new Intl.NumberFormat("en-US",{maximumFractionDigits:0});(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("https://api.htl-braunau.at/data/summary");if(!e.ok)throw Error("Failed to fetch summary: ".concat(e.statusText));let t=await e.json();d(t)}catch(e){p(e.message)}})()},[]),(0,s.useEffect)(()=>{(async()=>{u(!0);try{let e=await fetch("https://api.htl-braunau.at/data/paginated?page=".concat(m,"&limit=").concat(0===h?"":h));if(!e.ok)throw Error("Failed to fetch data: ".concat(e.statusText));let t=await e.json();l(t)}catch(e){p(e.message)}finally{u(!1)}})()},[m,h]);let N=s.useMemo(()=>g?[...n].sort((e,t)=>e[g.key]<t[g.key]?"ascending"===g.direction?-1:1:e[g.key]>t[g.key]?"ascending"===g.direction?1:-1:0):n,[n,g]);if(c)return(0,a.jsx)("p",{children:"Loading..."});if(f)return(0,a.jsxs)("p",{children:["Error:",f]});let w=e=>{let t="ascending";g&&g.key===e&&"ascending"===g.direction&&(t="descending"),y({key:e,direction:t})};return(0,a.jsxs)("div",{className:"p-6 mt-20",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Created LXCs"}),(0,a.jsx)(v,{data:i}),(0,a.jsx)("p",{className:"text-lg font-bold mt-4",children:" "}),(0,a.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,a.jsxs)("p",{className:"text-lg font-bold",children:[j.format(null!=(e=null==i?void 0:i.total_entries)?e:0)," ","results found"]}),(0,a.jsxs)("p",{className:"text-lg font",children:["Status Legend: \uD83D\uDD04 installing"," ",j.format(null!=(t=null==i?void 0:i.status_count.installing)?t:0)," ","| ✔️ completed"," ",j.format(null!=(r=null==i?void 0:i.status_count.done)?r:0)," ","| ❌ failed"," ",j.format(null!=(o=null==i?void 0:i.status_count.failed)?o:0)," ","| ❓ unknown"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("div",{className:"overflow-y-auto lg:overflow-y-visible",children:(0,a.jsxs)("table",{className:"min-w-full table-auto border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("status"),children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("type"),children:"Type"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("nsapp"),children:"Application"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("os_type"),children:"OS"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("os_version"),children:"OS Version"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("disk_size"),children:"Disk Size"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("core_count"),children:"Core Count"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("ram_size"),children:"RAM Size"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("method"),children:"Method"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("pve_version"),children:"PVE Version"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("error"),children:"Error Message"}),(0,a.jsx)("th",{className:"px-4 py-2 border-b cursor-pointer",onClick:()=>w("created_at"),children:"Created At"})]})}),(0,a.jsx)("tbody",{children:N.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:"done"===e.status?"✔️":"failed"===e.status?"❌":"installing"===e.status?"\uD83D\uDD04":e.status}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:"lxc"===e.type?"\uD83D\uDCE6":"vm"===e.type?"\uD83D\uDDA5️":e.type}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.nsapp}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.os_type}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.os_version}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.disk_size}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.core_count}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.ram_size}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.method}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.pve_version}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.error}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:(e=>{let t=new Date(e),r=t.getFullYear(),a=t.getMonth()+1,s=t.getDate(),o=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),l=e.slice(-6);return"".concat(s,".").concat(a,".").concat(r," ").concat(o,":").concat(n," ").concat(l," GMT")})(e.created_at)})]},t))})]})})}),(0,a.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,a.jsx)("button",{onClick:()=>x(e=>Math.max(e-1,1)),disabled:1===m,className:"p-2 border",children:"Previous"}),(0,a.jsxs)("span",{children:["Page",m]}),(0,a.jsx)("button",{onClick:()=>x(e=>e+1),className:"p-2 border",children:"Next"}),(0,a.jsxs)("select",{value:h,onChange:e=>b(Number(e.target.value)),className:"p-2 border",children:[(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:20,children:"20"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"}),(0,a.jsx)("option",{value:250,children:"250"}),(0,a.jsx)("option",{value:500,children:"500"}),(0,a.jsx)("option",{value:5e3,children:"5000"})]})]})]})}},46767:(e,t,r)=>{"use strict";r.d(t,{Bc:()=>l,ZI:()=>c,k$:()=>d,m_:()=>i});var a=r(95155),s=r(47520),o=r(12115),n=r(64269);let l=s.Kq,i=s.bL,d=s.l9,c=o.forwardRef((e,t)=>{let{className:r,sideOffset:o=4,...l}=e;return(0,a.jsx)(s.UC,{ref:t,sideOffset:o,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",r),...l})});c.displayName=s.UC.displayName},51834:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>f,L3:()=>m,c7:()=>p,lG:()=>i,rr:()=>x,zM:()=>d});var a=r(95155),s=r(89511),o=r(65229),n=r(12115),l=r(64269);let i=s.bL,d=s.l9,c=s.ZL;s.bm;let u=n.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)(s.hJ,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...o})});u.displayName=s.hJ.displayName;let f=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-51%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[n,(0,a.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function p(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})}f.displayName=s.UC.displayName,p.displayName="DialogHeader";let m=n.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)(s.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...o})});m.displayName=s.hE.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)(s.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...o})});x.displayName=s.VY.displayName},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(75889),s=r(2821);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},91799:(e,t,r)=>{Promise.resolve().then(r.bind(r,35380))}},e=>{e.O(0,[38,647,707,421,17,690,44,441,255,358],()=>e(e.s=91799)),_N_E=e.O()}]);