(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{3998:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>i});var r=a(95155),l=a(32467),s=a(83101),o=a(12115),n=a(64269);let i=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",expandIcon:"group relative text-primary-foreground bg-primary hover:bg-primary/90",ringHover:"bg-primary text-primary-foreground transition-all duration-300 hover:bg-primary/90 hover:ring-2 hover:ring-primary/90 hover:ring-offset-2",shine:"text-primary-foreground animate-shine bg-gradient-to-r from-primary via-primary/75 to-primary bg-[length:400%_100%] ",gooeyRight:"text-primary-foreground relative bg-primary z-0 overflow-hidden transition-all duration-500 before:absolute before:inset-0 before:-z-10 before:translate-x-[150%] before:translate-y-[150%] before:scale-[2.5] before:rounded-[100%] before:bg-gradient-to-r from-zinc-400 before:transition-transform before:duration-1000  hover:before:translate-x-[0%] hover:before:translate-y-[0%] ",gooeyLeft:"text-primary-foreground relative bg-primary z-0 overflow-hidden transition-all duration-500 after:absolute after:inset-0 after:-z-10 after:translate-x-[-150%] after:translate-y-[150%] after:scale-[2.5] after:rounded-[100%] after:bg-gradient-to-l from-zinc-400 after:transition-transform after:duration-1000  hover:after:translate-x-[0%] hover:after:translate-y-[0%] ",linkHover1:"relative after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-left after:scale-x-100 hover:after:origin-bottom-right hover:after:scale-x-0 after:transition-transform after:ease-in-out after:duration-300",linkHover2:"relative after:absolute after:bg-primary after:bottom-2 after:h-[1px] after:w-2/3 after:origin-bottom-right after:scale-x-0 hover:after:origin-bottom-left hover:after:scale-x-100 after:transition-transform after:ease-in-out after:duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-9 w-9    ",null:"py-1 px-3 rouded-xs"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:d=!1,Icon:c,iconPlacement:u,...m}=e,p=d?l.DX:"button";return(0,r.jsxs)(p,{className:(0,n.cn)(i({variant:s,size:o,className:a})),ref:t,...m,children:[c&&"left"===u&&(0,r.jsx)("div",{className:"group-hover:translate-x-100 w-0 translate-x-[0%] pr-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:pr-2 group-hover:opacity-100",children:(0,r.jsx)(c,{})}),(0,r.jsx)(l.xV,{children:m.children}),c&&"right"===u&&(0,r.jsx)("div",{className:"w-0 translate-x-[100%] pl-0 opacity-0 transition-all duration-200 group-hover:w-5 group-hover:translate-x-0 group-hover:pl-2 group-hover:opacity-100",children:(0,r.jsx)(c,{})})]})});d.displayName="Button"},17013:(e,t,a)=>{"use strict";a.d(t,{Id:()=>i,Jp:()=>n,RI:()=>c,xm:()=>d});var r=a(95155),l=a(94074),s=a(64893),o=a(70898);a(12115);let n="ProxmoxVE",i=[{href:"https://github.com/community-scripts/".concat(n),event:"GitHub",icon:(0,r.jsx)(o.hL4,{className:"h-4 w-4"}),text:"GitHub"},{href:"https://discord.gg/2wvnMDgdnU",event:"Discord",icon:(0,r.jsx)(o.O4U,{className:"h-4 w-4"}),text:"Discord"},{href:"https://github.com/community-scripts/".concat(n,"/blob/main/CHANGELOG.md"),event:"Changelog",icon:(0,r.jsx)(l.A,{className:"h-4 w-4"}),text:"Changelog",mobileHidden:!0},{href:"https://github.com/community-scripts/".concat(n,"/discussions"),event:"Discussions",icon:(0,r.jsx)(s.A,{className:"h-4 w-4"}),text:"Discussions",mobileHidden:!0}].filter(Boolean),d=["post-pve-install","docker","homeassistant"],c={warning:"border-red-500/25 bg-destructive/25",info:"border-cyan-500/25 bg-cyan-50 dark:border-cyan-900 dark:bg-cyan-900/25"}},18332:(e,t,a)=>{"use strict";a.d(t,{Fc:()=>i,TN:()=>c,XL:()=>d});var r=a(95155),l=a(83101),s=a(12115),o=a(64269);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:l,...s}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:(0,o.cn)(n({variant:l}),a),...s})});i.displayName="Alert";let d=s.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("h5",{ref:t,className:(0,o.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})});d.displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("text-sm [&_p]:leading-relaxed",a),...l})});c.displayName="AlertDescription"},36079:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eo});var r=a(95155),l=a(16485),s=a(91456),o=a(5917),n=a(71155),i=a(39867),d=a(12115),c=a(71163),u=a(18720),m=a(82286),p=a(64269);let f=m.bL,h=m.l9,x=d.forwardRef((e,t)=>{let{className:a,align:l="center",sideOffset:s=4,...o}=e;return(0,r.jsx)(m.ZL,{children:(0,r.jsx)(m.UC,{ref:t,align:l,sideOffset:s,className:(0,p.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});x.displayName=m.UC.displayName;var g=a(18332),b=a(90368),v=a(27937),j=a(24789),y=a(3998);function N(e){let{className:t,classNames:a,showOutsideDays:l=!0,...s}=e;return(0,r.jsx)(j.h,{showOutsideDays:l,className:(0,p.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,p.cn)((0,y.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,p.cn)((0,y.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{Chevron:e=>{let{...t}=e;return"left"===t.orientation?(0,r.jsx)(b.A,{className:"h-4 w-4"}):(0,r.jsx)(v.A,{className:"h-4 w-4"})}},...s})}N.displayName="Calendar";let w=d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...l})});w.displayName="Textarea";var k=a(65142),C=a(32870);let _=(0,a(83101).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(C.b,{ref:t,className:(0,p.cn)(_(),a),...l})});z.displayName=C.b.displayName;var R=a(27599);let S=d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(R.bL,{className:(0,p.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...l,ref:t,children:(0,r.jsx)(R.zi,{className:(0,p.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});S.displayName=R.bL.displayName;var L=a(94368),P=a(5440);let I=P.z.object({script:P.z.boolean().optional(),docker:P.z.boolean().optional(),docker_compose:P.z.boolean().optional(),helm:P.z.boolean().optional(),kubernetes:P.z.boolean().optional(),terraform:P.z.boolean().optional(),paths:P.z.object({script:P.z.string().nullable().optional(),docker:P.z.string().nullable().optional(),docker_compose:P.z.string().nullable().optional(),helm:P.z.string().nullable().optional(),kubernetes:P.z.string().nullable().optional(),terraform:P.z.string().nullable().optional()}).optional()}).partial(),A=P.z.object({self_hosted:P.z.boolean().optional(),managed_cloud:P.z.boolean().optional()}).partial(),D=P.z.object({cli:P.z.boolean().optional(),gui:P.z.boolean().optional(),web_ui:P.z.boolean().optional(),api:P.z.boolean().optional(),tui:P.z.boolean().optional()}).partial(),O=P.z.object({desktop:P.z.object({linux:P.z.boolean().optional(),windows:P.z.boolean().optional(),macos:P.z.boolean().optional()}),mobile:P.z.object({android:P.z.boolean().optional(),ios:P.z.boolean().optional()}),web_app:P.z.boolean().optional(),browser_extension:P.z.boolean().optional(),cli_only:P.z.boolean().optional(),hosting:A,ui:D}).partial(),U=P.z.object({platform:O.optional(),deployment:I.optional()}),T=P.z.object({name:P.z.string().min(1,"Name is required"),slug:P.z.string().min(1,"Slug is required"),categories:P.z.array(P.z.number()).min(1,"At least one category is required"),date_created:P.z.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),interface_port:P.z.number().nullable().optional(),documentation:P.z.string().url().nullable().optional(),website:P.z.string().url().nullable().optional(),source_code:P.z.string().url().nullable().optional(),logo:P.z.string().url().nullable().optional(),description:P.z.string().min(1,"Description is required"),install_methods:P.z.array(U).min(1,"At least one install method is required"),default_credentials:P.z.object({username:P.z.string().nullable(),password:P.z.string().nullable()}).optional(),platform:O.optional(),notes:P.z.array(P.z.object({text:P.z.string().min(1,"Note text cannot be empty"),type:P.z.string().min(1,"Note type cannot be empty")})).optional().default([])}),E=e=>{let{checked:t,onChange:a,children:l}=e;return(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm",children:[(0,r.jsx)("button",{type:"button",role:"checkbox","aria-checked":!!t,tabIndex:0,onKeyDown:e=>{(" "===e.key||"Enter"===e.key)&&(e.preventDefault(),a(!t))},onClick:()=>a(!t),className:"inline-flex h-5 w-5 flex-none items-center justify-center rounded border transition "+(t?"bg-blue-600 border-blue-600 shadow-sm":"bg-white border-gray-300 hover:border-gray-400"),"aria-label":"string"==typeof l?l:void 0,children:(0,r.jsx)("svg",{className:"h-3 w-3 transform ".concat(t?"scale-100":"scale-75 opacity-0"),viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:(0,r.jsx)("polyline",{points:"20 6 9 17 4 12"})})}),(0,r.jsx)("span",{className:"select-none",children:l})]})},M={platform:{desktop:{linux:!1,windows:!1,macos:!1},mobile:{android:!1,ios:!1},web_app:!1,browser_extension:!1,cli_only:!1,hosting:{self_hosted:!1,managed_cloud:!1},ui:{cli:!1,gui:!1,web_ui:!1,api:!1,tui:!1}}};function F(e){return JSON.parse(JSON.stringify(e))}let J=(0,d.memo)(function(e){var t,a,l,s,o,n,i,c,u,m,p,f,h,x,g,b,v,j,y,N,w,k,C,_,z,R,S,L;let{script:P,setScript:I,setIsValid:A,setZodErrors:D}=e;(0,d.useEffect)(()=>{P.install_methods&&0!==P.install_methods.length||I(e=>{let t=U.safeParse(M);if(!t.success){console.error("defaultInstallMethod validation failed:",t.error.errors,t.error.message);let a={...e,install_methods:[M]};return A(T.safeParse(a).success),D(t.error),a}let a={...e,install_methods:[t.data]},r=T.safeParse(a);return A(r.success),D(r.success?null:r.error),a})},[null==(t=P.install_methods)?void 0:t.length]);let O=(0,d.useCallback)((e,t)=>{I(a=>{let r=F(a.install_methods);if(!r||0===r.length){let e=U.parse(M);r.splice(0,0,e)}let l=r[0].platform;for(let t=0;t<e.length-1;t++)l=l[e[t]];l[e[e.length-1]]=t;let s={...a,install_methods:r},o=T.safeParse(s);return A(o.success),D(o.success?null:o.error),s})},[I,A,D]),J=(0,d.useCallback)(e=>{I(t=>{let a=F(t.install_methods);if(!a||0===a.length){let e=U.parse(M);a.splice(0,0,e)}let r=a[0].platform,l=e.filter(e=>Object.prototype.hasOwnProperty.call(r,e)),s=!l.every(e=>!!r[e]);for(let e of l)r[e]=s;let o={...t,install_methods:a},n=T.safeParse(o);return A(n.success),D(n.success?null:n.error),o})},[I,A,D]),V=(0,d.useCallback)(e=>{I(t=>{let a=F(t.install_methods);if(!a||0===a.length){let e=U.parse(M);a.splice(0,0,e)}let r=a[0].platform;for(let t=0;t<e.length;t++)r=r[e[t]];if(r&&"object"==typeof r){let e=!Object.values(r).every(Boolean);for(let t of Object.keys(r))r[t]=e}let l={...t,install_methods:a},s=T.safeParse(l);return A(s.success),D(s.success?null:s.error),l})},[I,A,D]),B=P.install_methods&&P.install_methods.length>0?P.install_methods[0]:null;return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[!B&&(0,r.jsx)("div",{className:"mt-2 p-2 text-sm text-gray-600",children:"Initializing install method..."}),B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"Desktop"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Select desktop targets"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:()=>V(["desktop"]),className:"text-xs text-blue-600 hover:underline",children:"Select all / Clear"})})]}),(0,r.jsxs)("div",{className:"mt-3 flex gap-4 flex-wrap",children:[(0,r.jsx)(E,{checked:!!(null==(l=B.platform)||null==(a=l.desktop)?void 0:a.linux),onChange:e=>O(["desktop","linux"],e),children:"Linux"}),(0,r.jsx)(E,{checked:!!(null==(o=B.platform)||null==(s=o.desktop)?void 0:s.windows),onChange:e=>O(["desktop","windows"],e),children:"Windows"}),(0,r.jsx)(E,{checked:!!(null==(i=B.platform)||null==(n=i.desktop)?void 0:n.macos),onChange:e=>O(["desktop","macos"],e),children:"macOS"})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"Mobile"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Native mobile platforms"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:()=>V(["mobile"]),className:"text-xs text-blue-600 hover:underline",children:"Select all / Clear"})})]}),(0,r.jsxs)("div",{className:"mt-3 flex gap-4",children:[(0,r.jsx)(E,{checked:!!(null==(u=B.platform)||null==(c=u.mobile)?void 0:c.android),onChange:e=>O(["mobile","android"],e),children:"Android"}),(0,r.jsx)(E,{checked:!!(null==(p=B.platform)||null==(m=p.mobile)?void 0:m.ios),onChange:e=>O(["mobile","ios"],e),children:"iOS"})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"Web & Extensions"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Web app, browser extension, CLI-only"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:()=>J(["web_app","browser_extension","cli_only"]),className:"text-xs text-blue-600 hover:underline",children:"Select all / Clear"})})]}),(0,r.jsxs)("div",{className:"mt-3 flex gap-4 flex-wrap",children:[(0,r.jsx)(E,{checked:!!(null==(f=B.platform)?void 0:f.web_app),onChange:e=>O(["web_app"],e),children:"Web App"}),(0,r.jsx)(E,{checked:!!(null==(h=B.platform)?void 0:h.browser_extension),onChange:e=>O(["browser_extension"],e),children:"Browser Extension"}),(0,r.jsx)(E,{checked:!!(null==(x=B.platform)?void 0:x.cli_only),onChange:e=>O(["cli_only"],e),children:"CLI Only"})]})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-base",children:"Hosting"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Self-hosted / Managed Cloud"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:()=>V(["hosting"]),className:"text-xs text-blue-600 hover:underline",children:"Select all / Clear"})})]}),(0,r.jsxs)("div",{className:"mt-3 flex gap-4 flex-wrap",children:[(0,r.jsx)(E,{checked:!!(null==(b=B.platform)||null==(g=b.hosting)?void 0:g.self_hosted),onChange:e=>O(["hosting","self_hosted"],e),children:"Self-hosted"}),(0,r.jsx)(E,{checked:!!(null==(j=B.platform)||null==(v=j.hosting)?void 0:v.managed_cloud),onChange:e=>O(["hosting","managed_cloud"],e),children:"Managed Cloud"})]})]}),(0,r.jsxs)("div",{className:"pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-base",children:"UI / Interface"}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"CLI, GUI, Web UI, API, or TUI"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"button",onClick:()=>V(["ui"]),className:"text-xs text-blue-600 hover:underline",children:"Select all / Clear"})})]}),(0,r.jsxs)("div",{className:"mt-3 flex gap-4 flex-wrap",children:[(0,r.jsx)(E,{checked:!!(null==(N=B.platform)||null==(y=N.ui)?void 0:y.cli),onChange:e=>O(["ui","cli"],e),children:"CLI"}),(0,r.jsx)(E,{checked:!!(null==(k=B.platform)||null==(w=k.ui)?void 0:w.gui),onChange:e=>O(["ui","gui"],e),children:"GUI"}),(0,r.jsx)(E,{checked:!!(null==(_=B.platform)||null==(C=_.ui)?void 0:C.web_ui),onChange:e=>O(["ui","web_ui"],e),children:"Web UI"}),(0,r.jsx)(E,{checked:!!(null==(R=B.platform)||null==(z=R.ui)?void 0:z.api),onChange:e=>O(["ui","api"],e),children:"API"}),(0,r.jsx)(E,{checked:!!(null==(L=B.platform)||null==(S=L.ui)?void 0:S.tui),onChange:e=>O(["ui","tui"],e),children:"TUI"})]})]})]})]})})});var V=a(24033),B=a(12108),H=a(55644);let W=H.bL;H.YJ;let G=H.WT,q=d.forwardRef((e,t)=>{let{className:a,children:l,...s}=e;return(0,r.jsxs)(H.l9,{ref:t,className:(0,p.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...s,children:[l,(0,r.jsx)(H.In,{asChild:!0,children:(0,r.jsx)(V.A,{className:"h-4 w-4 opacity-50"})})]})});q.displayName=H.l9.displayName;let $=d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(H.PP,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,r.jsx)(B.A,{className:"h-4 w-4"})})});$.displayName=H.PP.displayName;let Y=d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(H.wn,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,r.jsx)(V.A,{className:"h-4 w-4"})})});Y.displayName=H.wn.displayName;let Z=d.forwardRef((e,t)=>{let{className:a,children:l,position:s="popper",...o}=e;return(0,r.jsx)(H.ZL,{children:(0,r.jsxs)(H.UC,{ref:t,className:(0,p.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...o,children:[(0,r.jsx)($,{}),(0,r.jsx)(H.LM,{className:(0,p.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,r.jsx)(Y,{})]})})});Z.displayName=H.UC.displayName,d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(H.JU,{ref:t,className:(0,p.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=H.JU.displayName;let K=d.forwardRef((e,t)=>{let{className:a,children:l,...s}=e;return(0,r.jsxs)(H.q7,{ref:t,className:(0,p.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(H.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(H.p4,{children:l})]})});K.displayName=H.q7.displayName,d.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(H.wv,{ref:t,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=H.wv.displayName;let X=(0,d.memo)(e=>{let{category:t,onRemove:a}=e;return(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t.name,(0,r.jsxs)("button",{type:"button",className:"ml-1 inline-flex text-blue-400 hover:text-blue-600",onClick:a,children:[(0,r.jsx)("span",{className:"sr-only",children:"Remove"}),(0,r.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})});X.displayName="CategoryTag";let Q=(0,d.memo)(function(e){let{script:t,setScript:a,categories:l}=e,s=new Map(l.map(e=>[e.id,e]));return(0,r.jsxs)("div",{children:[(0,r.jsxs)(z,{children:["Category"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)(W,{onValueChange:e=>{var r;return r=Number(e),void a({...t,categories:[...new Set([...t.categories,r])]})},children:[(0,r.jsx)(q,{children:(0,r.jsx)(G,{placeholder:"Select a category"})}),(0,r.jsx)(Z,{children:l.map(e=>(0,r.jsx)(K,{value:e.id.toString(),children:e.name},e.id))})]}),(0,r.jsx)("div",{className:(0,p.cn)("flex flex-wrap gap-2",0!==t.categories.length&&"mt-2"),children:t.categories.map(e=>{let l=s.get(e);return l?(0,r.jsx)(X,{category:l,onRemove:()=>{a({...t,categories:t.categories.filter(t=>t!==e)})}},e):null})})]})});var ee=a(71360),et=a(46826),ea=a(17013);let er=(0,d.memo)(e=>{let{note:t,index:a,updateNote:l,removeNote:s}=e,o=(0,d.useRef)(null),n=(0,d.useCallback)(e=>{l(a,"text",e.target.value),setTimeout(()=>{var e;null==(e=o.current)||e.focus()},0)},[a,l]);return(0,r.jsxs)("div",{className:"space-y-2 border p-4 rounded",children:[(0,r.jsx)(k.p,{placeholder:"Note Text",value:t.text,onChange:n,ref:o}),(0,r.jsxs)(W,{value:t.type,onValueChange:e=>l(a,"type",e),children:[(0,r.jsx)(q,{className:"flex-1",children:(0,r.jsx)(G,{placeholder:"Type"})}),(0,r.jsx)(Z,{children:Object.keys(ea.RI).map(e=>(0,r.jsx)(K,{value:e,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[e.charAt(0).toUpperCase()+e.slice(1)," ",(0,r.jsx)("div",{className:(0,p.cn)("size-4 rounded-full border",ea.RI[e])})]})},e))})]}),(0,r.jsxs)(y.$,{size:"sm",variant:"destructive",type:"button",onClick:()=>s(a),children:[(0,r.jsx)(ee.A,{className:"mr-2 h-4 w-4"})," ","Remove Note"]})]})});er.displayName="NoteItem";let el=(0,d.memo)(function(e){let{script:t,setScript:a,setIsValid:l,setZodErrors:s}=e,o=(0,d.useCallback)(()=>{let e={...t,notes:[...t.notes,{text:"",type:""}]},r=T.safeParse(e);l(r.success),s(r.success?null:r.error),a(e)},[t,a,l,s]),n=(0,d.useCallback)((e,r,o)=>{let n={...t,notes:t.notes.map((t,a)=>a===e?{...t,[r]:o}:t)},i=T.safeParse(n);l(i.success),s(i.success?null:i.error),a(n)},[t,a,l,s]),i=(0,d.useCallback)(e=>{let r={...t,notes:t.notes.filter((t,a)=>a!==e)},o=T.safeParse(r);l(o.success),s(o.success?null:o.error),a(r)},[t,a,l,s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Notes"}),t.notes.map((e,t)=>(0,r.jsx)(er,{note:e,index:t,updateNote:n,removeNote:i},t)),(0,r.jsxs)(y.$,{type:"button",size:"sm",onClick:o,children:[(0,r.jsx)(et.A,{className:"mr-2 h-4 w-4"})," ","Add Note"]})]})}),es={name:"",slug:"",categories:[],date_created:"",interface_port:null,documentation:null,website:null,source_code:null,logo:null,description:"",install_methods:[],default_credentials:{username:null,password:null},notes:[]};function eo(){var e,t,a;let[m,b]=(0,d.useState)(es),[v,j]=(0,d.useState)(!1),[C,_]=(0,d.useState)(!1),[R,P]=(0,d.useState)([]),[I,A]=(0,d.useState)(null);(0,d.useEffect)(()=>{(0,L.j)().then(P).catch(e=>console.error("Error fetching categories:",e))},[]);let D=(0,d.useCallback)((e,t)=>{b(a=>{let r={...a,[e]:t},l=T.safeParse(r);return _(l.success),A(l.success?null:l.error),r})},[]),O=(0,d.useCallback)(()=>{let e=JSON.stringify(m,null,2);if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(e).then(()=>{j(!0),setTimeout(()=>j(!1),2e3),u.oR.success("Copied metadata to clipboard")}).catch(t=>{console.error("Clipboard write failed, fallback:",t);let a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.opacity="0",document.body.appendChild(a),a.focus(),a.select();try{document.execCommand("copy")?(u.oR.success("Copied metadata to clipboard"),j(!0),setTimeout(()=>j(!1),2e3)):u.oR.error("Unable to copy to clipboard")}catch(e){u.oR.error("Clipboard copy failed"),console.error("Fallback copy failed:",e)}document.body.removeChild(a)});else{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?(u.oR.success("Copied metadata to clipboard"),j(!0),setTimeout(()=>j(!1),2e3)):u.oR.error("Unable to copy to clipboard")}catch(e){u.oR.error("Clipboard copy failed"),console.error("Fallback copy failed:",e)}document.body.removeChild(t)}},[m]),U=(0,d.useCallback)(()=>{let e=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="".concat(m.slug||"script",".json"),document.body.appendChild(a),a.click(),URL.revokeObjectURL(t),document.body.removeChild(a)},[m]),E=(0,d.useCallback)(e=>{D("date_created",(0,c.GP)(e||new Date,"yyyy-MM-dd"))},[D]),M=(0,d.useMemo)(()=>{if(m.date_created)try{let e=new Date(m.date_created);if(Number.isNaN(e.getTime()))return;return(0,c.GP)(e,"PPP")}catch(e){return}},[m.date_created]),F=(0,d.useMemo)(()=>(0,r.jsxs)(g.Fc,{className:(0,p.cn)("text-black",C?"bg-green-100":"bg-red-100"),children:[(0,r.jsx)(g.XL,{children:C?"Valid JSON":"Invalid JSON"}),(0,r.jsx)(g.TN,{children:C?"The current JSON is valid according to the schema.":"The current JSON does not match the required schema."}),I&&(0,r.jsx)("div",{className:"mt-2 space-y-1",children:I.errors.map((e,t)=>(0,r.jsxs)(g.TN,{className:"p-1 text-red-500",children:[e.path.join(".")," ","-",e.message]},t))})]}),[C,I]),V=(0,d.useCallback)(e=>(null==e?void 0:e.trim())||null,[]),B=(0,d.useCallback)(e=>{if(null===e||!Number.isFinite(e))return null;let t=Math.round(e);return t<1||t>65535?null:t},[]),H={script:"script.sh",docker:"Dockerfile",docker_compose:"docker-compose.yaml",helm:"helm.yaml",kubernetes:"k8s-deployment.yaml",terraform:"main.tf"},W=e=>"/public/manifest/".concat(m.slug||"app-name","/").concat(e);return(0,r.jsxs)("div",{className:"flex min-h-[calc(100vh-4rem)] mt-20",children:[(0,r.jsxs)("div",{className:"w-1/2 p-4 overflow-y-auto",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"JSON Generator"}),(0,r.jsxs)("form",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(z,{children:["Name"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(k.p,{placeholder:"Example",value:m.name,onChange:e=>D("name",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(z,{children:["Slug"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(k.p,{placeholder:"example",value:m.slug,onChange:e=>D("slug",e.target.value)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(z,{children:"Logo (optional)"}),(0,r.jsx)(k.p,{placeholder:"Full logo URL (leave blank to use default icon)",type:"url",value:m.logo||"",onChange:e=>D("logo",V(e.target.value)),onBlur:e=>D("logo",V(e.target.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(z,{children:["Description"," ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(w,{placeholder:"Example",value:m.description,onChange:e=>D("description",e.target.value)})]}),(0,r.jsx)(Q,{script:m,setScript:b,categories:R}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,r.jsx)(z,{children:"Date Created"}),(0,r.jsxs)(f,{children:[(0,r.jsx)(h,{asChild:!0,className:"flex-1",children:(0,r.jsxs)(y.$,{variant:"outline",className:(0,p.cn)("pl-3 text-left font-normal w-full",!m.date_created&&"text-muted-foreground"),children:[M||(0,r.jsx)("span",{children:"Pick a date"}),(0,r.jsx)(l.A,{className:"ml-auto h-4 w-4 opacity-50"})]})}),(0,r.jsx)(x,{className:"w-auto p-0",align:"start",children:(0,r.jsx)(N,{mode:"single",selected:m.date_created?new Date(m.date_created):void 0,onSelect:E,initialFocus:!0})})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(z,{children:"Interface Port"}),(0,r.jsx)(k.p,{placeholder:"e.g. 8080 (1 - 65535)",type:"number",min:1,max:65535,value:null!=(a=m.interface_port)?a:"",onChange:e=>{D("interface_port",B(e.target.value?Number(e.target.value):null))}}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Optional — numeric port number (1–65535). Leave empty for no port."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(z,{children:"Website URL"}),(0,r.jsx)(k.p,{placeholder:"https://example.com",type:"url",value:m.website||"",onChange:e=>D("website",e.target.value||null),onBlur:e=>D("website",V(e.target.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(z,{children:"Documentation URL"}),(0,r.jsx)(k.p,{placeholder:"https://example.com/docs",type:"url",value:m.documentation||"",onChange:e=>D("documentation",e.target.value||null),onBlur:e=>D("documentation",V(e.target.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(z,{children:"Source Code URL"}),(0,r.jsx)(k.p,{placeholder:"https://github.com/your/repo",type:"url",value:m.source_code||"",onChange:e=>D("source_code",e.target.value||null),onBlur:e=>D("source_code",V(e.target.value))})]})]}),(0,r.jsx)(J,{script:m,setScript:b,setIsValid:_,setZodErrors:A}),(0,r.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Deployment"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Script / Docker / Docker Compose / Helm / Kubernetes / Terraform"})]})}),(0,r.jsx)("div",{className:"space-y-3",children:["script","docker","docker_compose","helm","kubernetes","terraform"].map(e=>{var t;let a=!!(null==(t=m.deployment)?void 0:t[e]),l=W(H[e]);return(0,r.jsxs)("div",{className:"p-2 rounded border flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"font-medium",children:{script:"Script",docker:"Docker",docker_compose:"Docker Compose",helm:"Helm",kubernetes:"Kubernetes",terraform:"Terraform"}[e]}),(0,r.jsx)(S,{checked:a,onCheckedChange:t=>((e,t)=>{let a=m.deployment||{},r=a.paths||{};D("deployment",{...a,[e]:t,paths:{...r,[e]:t?W(H[e]):null}})})(e,!!t)})]}),a&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(z,{children:"Manifest path (read-only)"}),(0,r.jsx)(k.p,{value:l,readOnly:!0,disabled:!0}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Please create the manifest under ",(0,r.jsx)("code",{className:"bg-muted px-1 rounded",children:"/public/manifest/<app-name>/<manifest-filename>"}),"."]})]})]},e)})}),(0,r.jsx)("h3",{className:"text-xl font-semibold",children:"Default Credentials"}),(0,r.jsx)(k.p,{placeholder:"Username",value:(null==(e=m.default_credentials)?void 0:e.username)||"",onChange:e=>{var t,a;return D("default_credentials",{username:e.target.value||null,password:null!=(a=null==(t=m.default_credentials)?void 0:t.password)?a:null})}}),(0,r.jsx)(k.p,{placeholder:"Password",value:(null==(t=m.default_credentials)?void 0:t.password)||"",onChange:e=>{var t,a;return D("default_credentials",{username:null!=(a=null==(t=m.default_credentials)?void 0:t.username)?a:null,password:e.target.value||null})}}),(0,r.jsx)(el,{script:m,setScript:b,setIsValid:_,setZodErrors:A})]})]}),(0,r.jsxs)("div",{className:"w-1/2 p-4 bg-background overflow-y-auto",children:[F,(0,r.jsx)("div",{className:"mt-4 mb-4 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,r.jsx)(z,{className:"text-sm text-muted-foreground",children:"Logo Preview"}),m.logo&&""!==m.logo.trim()?(0,r.jsx)("img",{src:m.logo,alt:"Logo preview",className:"h-24 w-24 rounded-xl bg-gradient-to-br from-accent/40 to-accent/60 object-contain p-3 shadow-lg",onError:e=>{var t;e.currentTarget.style.display="none",null==(t=e.currentTarget.nextElementSibling)||t.classList.remove("hidden")}}):null,(0,r.jsx)("div",{className:(0,p.cn)("flex h-24 w-24 items-center justify-center rounded-xl bg-gradient-to-br from-accent/40 to-accent/60 shadow-lg",m.logo&&""!==m.logo.trim()&&"hidden"),children:(0,r.jsx)(s.A,{className:"h-12 w-12 text-muted-foreground"})})]})}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"absolute right-2 top-2 flex gap-1",children:[(0,r.jsx)(y.$,{size:"icon",variant:"outline",onClick:O,children:v?(0,r.jsx)(o.A,{className:"h-4 w-4"}):(0,r.jsx)(n.A,{className:"h-4 w-4"})}),(0,r.jsx)(y.$,{size:"icon",variant:"outline",onClick:U,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})]}),(0,r.jsx)("pre",{className:"mt-4 p-4 bg-secondary rounded shadow overflow-x-scroll",children:JSON.stringify(m,null,2)})]})]})]})}},64269:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var r=a(75889),l=a(2821);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,l.$)(t))}},65142:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var r=a(95155),l=a(12115),s=a(64269);let o=l.forwardRef((e,t)=>{let{className:a,type:l,...o}=e;return(0,r.jsx)("input",{type:l,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...o})});o.displayName="Input"},72185:(e,t,a)=>{Promise.resolve().then(a.bind(a,36079))},94368:(e,t,a)=>{"use strict";async function r(){let e=await fetch("/ProxmoxVE/api/categories");if(!e.ok)throw Error("Failed to fetch categories: ".concat(e.statusText));return await e.json()}async function l(){let e=await fetch("/ProxmoxVE/api/versions");if(!e.ok)throw Error("Failed to fetch versions: ".concat(e.statusText));return e.json()}a.d(t,{_:()=>l,j:()=>r})}},e=>{e.O(0,[711,707,421,17,537,532,441,255,358],()=>e(e.s=72185)),_N_E=e.O()}]);